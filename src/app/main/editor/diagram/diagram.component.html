<div class="diagram" (mousedown)="$event.stopPropagation()">
    <mat-icon style="color: orange">flash_on</mat-icon>

    <!-- render each steps into diagram -->
    <ng-container *ngFor="let group of groups; let order = index">
        <diagram-plus [isLast]="false" [order]="order - 0.5"></diagram-plus>

        <ng-container *ngIf="group.steps.length == 1">
            <diagram-step [step]="group.steps[0]"></diagram-step>
        </ng-container>

        <ng-container *ngIf="group.steps.length > 1">
            <diagram-step-group [steps]="group.steps"></diagram-step-group>
        </ng-container>
    </ng-container>

    <diagram-plus [isLast]="true" [order]="groups.length"></diagram-plus>
</div>
